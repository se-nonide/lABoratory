<div class="header">
    <h2>
        {{this.profileService.selectedExperiment?.name}}
    </h2>
    <div class="options">
        <button mat-icon-button color="primary" aria-label="Edit" class="formButton deleteButton">
            <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button (click)="this.profileService.isTryingToDelete = !this.profileService.isTryingToDelete" color="warn" aria-label="Delete" class="formButton deleteButton">
            <mat-icon>delete</mat-icon>
        </button>
        <p *ngIf="this.profileService.isTryingToDelete" class="warning">
            Are you sure you want to delete {{this.profileService.selectedExperiment?.name}}?
        </p>
        <button *ngIf="this.profileService.isTryingToDelete" mat-button (click)="deleteExperiment(this.profileService.selectedExperiment)" class="optionButton" color="warn">Yes</button>
        <button *ngIf="this.profileService.isTryingToDelete" mat-button (click)="this.profileService.isTryingToDelete = false" class="optionButton" color="primary">No</button>
    </div>
</div>
<mat-divider></mat-divider>
<div class="experimentAssigmentsContent">
    <mat-card [class.mat-elevation-z0]="true">
        <h2>Experiment assignments</h2>
        <mat-divider class="expDivider"></mat-divider>
        <mat-list>
            <mat-list-item *ngFor="let assignment of this.profileService.selectedExperiment?.assignments">
                {{assignment.assignmentName.toUpperCase()}} -  {{assignment.assignmentValue}}%
            </mat-list-item>
        </mat-list>
    </mat-card>
</div>
<div class="chart">
    <ngx-charts-pie-chart
        [scheme]="colorScheme"
        [results]="this.profileService.currentAssignments"
        [gradient]="false"
        [legend]="true"
        [doughnut]="true"
        [arcWidth]="0.40"
        [animations]="true"
        [tooltipDisabled]="false">
    </ngx-charts-pie-chart>
</div>